(this["webpackJsonpget-figma-stat"]=this["webpackJsonpget-figma-stat"]||[]).push([[0],{111:function(e,t,a){e.exports={wrap:"styles_wrap__2_wVy",chart:"styles_chart__30Ibu"}},114:function(e,t,a){e.exports={wrap:"styles_wrap__3Bh0q",title:"styles_title__1DYic"}},169:function(e,t,a){e.exports={wrap:"styles_wrap__1AutR"}},180:function(e,t,a){},19:function(e,t,a){e.exports={wrap:"styles_wrap__2N57w",pluginThumb:"styles_pluginThumb__2Zjga",content:"styles_content__3WiOH",title:"styles_title__1u3jB",textitem:"styles_textitem__1487S",counters:"styles_counters__zujYh",counter:"styles_counter__2IHYS",counterIcon:"styles_counterIcon__3m2SF"}},31:function(e,t,a){e.exports={wrap:"styles_wrap__1HgTC",wrapLeft:"styles_wrapLeft__3jTzh",wrapRight:"styles_wrapRight__XCZWI",image:"styles_image__qqce_",label:"styles_label__2nB3v",author:"styles_author__11T0X",count:"styles_count__l3vg-",indexNum:"styles_indexNum__1LomY"}},319:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),c=a(63),l=a.n(c),o=(a(180),a(55)),i=a.n(o),r=a(48),u=a(152),j=a(12),b=a(321),m=a(322),d=a(326),p=a(167),h=a(168),_=a(76),x=a(171),f=a(111),O=a.n(f),g=a(2),v=function(e){return Object(g.jsx)("section",{className:O.a.wrap,children:Object(g.jsx)(b.a,{width:"100%",height:240,children:Object(g.jsxs)(m.a,{data:e.data,className:O.a.chart,children:[Object(g.jsx)(d.a,{}),Object(g.jsx)(p.a,{dataKey:"date",tick:{fontSize:12,fontFamily:"Inter"}}),Object(g.jsx)(h.a,{mirror:!0,tick:{fontSize:12,fontFamily:"Inter"}}),Object(g.jsx)(_.a,{itemStyle:{padding:"4px",fontWeight:600,fontSize:16},labelStyle:{fontSize:16,fontWeight:700,padding:"4px"}}),Object(g.jsx)(x.a,{dataKey:"views",fill:"var(--chart-1-clr)",stroke:"var(--chart-1-clr)",dot:!1,strokeWidth:2}),Object(g.jsx)(x.a,{dataKey:"plugins"===e.category?"installs":"duplicates",fill:"var(--chart-2-clr)",stroke:"var(--chart-2-clr)",dot:!1,strokeWidth:2}),Object(g.jsx)(x.a,{dataKey:"likes",fill:"var(--chart-3-clr)",stroke:"var(--chart-3-clr)",dot:!1,strokeWidth:2}),Object(g.jsx)(x.a,{dataKey:"comments",fill:"var(--chart-4-clr)",stroke:"var(--chart-4-clr)",dot:!1,strokeWidth:2})]})})})};v.defaultProps={lineChart:!1};var w=v,y=a(73),N=a.n(y),C=function(e){return Object(g.jsxs)("button",{disabled:e.disabled,className:"".concat(N.a.wrap," ").concat(e.className," ").concat(N.a["".concat(e.mode)]),onClick:function(){return e.onClick(e.label)},children:[Object(g.jsx)("span",{className:N.a.label,children:e.label}),""!==e.sublabel?Object(g.jsx)("span",{className:N.a.sublabel,children:e.sublabel}):null]})};C.defaultProps={label:"label",sublabel:"",className:"",mode:"primary",disabled:!1};var k=C,L=a(60),S=a.n(L),H=function(e){var t=s.useState(e.value),a=Object(j.a)(t,2),n=a[0],c=a[1],l=function(t){var a=t.toLowerCase().replace(/\s+/g,"_");c(a),e.onClick(a)};return Object(g.jsxs)("div",{className:"".concat(S.a.wrap," ").concat(e.className),children:[Object(g.jsx)(k,{label:"Plugins",onClick:l,mode:"plugins"!==n?"ghost":"secondary",className:"".concat(S.a.button," ").concat("plugins"===n?S.a.inactive:"")}),Object(g.jsx)(k,{label:"Hub Files",onClick:l,mode:"plugins"!==n?"secondary":"ghost",className:"".concat(S.a.button," ").concat("plugins"!==n?S.a.inactive:"")})]})};H.defaultProps={className:""};var V=H,I=a(42),M=a.n(I),A=a(169),P=a.n(A),Z={arrow:"M12.9142 1.30006L23.4001 12L12.9142 22.6999L11.4858 21.3001L19.6199 13H1V11H19.6199L11.4858 2.69992L12.9142 1.30006Z",views:"M3 12C7.09091 2.66666 16.9091 2.66667 21 12C16.9091 21.3333 7.09091 21.3333 3 12ZM12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",installs:"M20 4H4V20H20V4ZM11 8V11.8127H7.30164L12 16.3972L16.6984 11.8127H13V8H11Z",likes:"M4.34285 5.40442C2.55239 7.27699 2.55238 10.313 4.34284 12.1856L12 20L19.6572 12.1856C21.4476 10.313 21.4476 7.27699 19.6572 5.40442C17.8667 3.53186 14.9638 3.53186 13.1733 5.40442L12 6.63155L10.8267 5.40442C9.03622 3.53186 6.13331 3.53186 4.34285 5.40442Z",comments:"M4 4H20V20L14.7619 17.1429H4V4ZM17 7H7V9H17V7ZM12 11H7V13H12V11Z",duplicates:"M16 4H4V16H8V20H20V8H16V4ZM16 10V16H10V18H18V10H16Z",gh:"M12 0C5.374 0 0 5.373 0 12C0 17.302 3.438 21.8 8.207 23.387C8.806 23.498 9 23.126 9 22.81V20.576C5.662 21.302 4.967 19.16 4.967 19.16C4.421 17.773 3.634 17.404 3.634 17.404C2.545 16.659 3.717 16.675 3.717 16.675C4.922 16.759 5.556 17.912 5.556 17.912C6.626 19.746 8.363 19.216 9.048 18.909C9.155 18.134 9.466 17.604 9.81 17.305C7.145 17 4.343 15.971 4.343 11.374C4.343 10.063 4.812 8.993 5.579 8.153C5.455 7.85 5.044 6.629 5.696 4.977C5.696 4.977 6.704 4.655 8.997 6.207C9.954 5.941 10.98 5.808 12 5.803C13.02 5.808 14.047 5.941 15.006 6.207C17.297 4.655 18.303 4.977 18.303 4.977C18.956 6.63 18.545 7.851 18.421 8.153C19.191 8.993 19.656 10.064 19.656 11.374C19.656 15.983 16.849 16.998 14.177 17.295C14.607 17.667 15 18.397 15 19.517V22.81C15 23.129 15.192 23.504 15.801 23.386C20.566 21.797 24 17.3 24 12C24 5.373 18.627 0 12 0Z"},B=function(e){return Object(g.jsx)("i",{className:"".concat(P.a.wrap," ").concat(e.className),children:Object(g.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(g.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:e.name?Z[e.name]:null})})})};B.defaultProps={name:"arrow",className:""};var T=B,W=function(e){var t=s.useState(0),a=Object(j.a)(t,2),n=a[0],c=a[1],l=s.useState(e.value||""),o=Object(j.a)(l,2),i=o[0],r=o[1];return Object(g.jsxs)("section",{className:M.a.wrap,children:[Object(g.jsxs)("form",{className:"".concat(M.a.form," ").concat(e.className," ").concat(e.isError?M.a.errorInput:""),children:[Object(g.jsx)("input",{type:"text",value:i,onChange:function(t){r(t.target.value),e.onChange(i)},placeholder:e.placeholder,className:M.a.input}),Object(g.jsx)("button",{className:M.a.button,disabled:""===i,onClick:function(t){t.preventDefault(),e.isError&&(console.log("error"),c(n+1)),e.onSubmit(i)},children:Object(g.jsx)(T,{className:M.a.arrow,name:"arrow"})})]}),e.isError?Object(g.jsx)("div",{className:M.a.errorMessage,children:"Oops! Can't find it. Check the ID or the category."}):null]},n)};W.defaultProps={placeholder:"Plugin ID",className:""};var F=W,K=a(19),R=a.n(K),z=function(e){return Object(g.jsxs)("section",{className:R.a.wrap,children:["plugins"===e.category?Object(g.jsx)("img",{src:e.info.iconUrl,alt:"preview",className:R.a.pluginThumb}):null,Object(g.jsxs)("div",{className:R.a.content,children:[Object(g.jsx)("a",{href:"https://www.figma.com/community/".concat("plugins"===e.category?"plugin":"file","/").concat(e.info.id),target:"_blank",rel:"noreferrer",className:"".concat(R.a.title," ").concat(R.a.link),children:e.info.name}),Object(g.jsxs)("div",{className:R.a.textitem,children:[Object(g.jsx)("span",{children:"by "}),Object(g.jsxs)("a",{href:"https://www.figma.com/@".concat(e.info.publisherHandle),target:"_blank",rel:"noreferrer",className:"".concat(R.a.link),children:["@",e.info.publisherHandle]})]}),Object(g.jsxs)("div",{className:R.a.counters,children:[Object(g.jsxs)("div",{className:R.a.counter,children:[Object(g.jsx)(T,{className:R.a.counterIcon,name:"views"}),Object(g.jsx)("span",{children:e.counters.viewCount.toLocaleString()})]}),"plugins"===e.category?Object(g.jsxs)("div",{className:R.a.counter,children:[Object(g.jsx)(T,{className:R.a.counterIcon,name:"installs"}),Object(g.jsx)("span",{children:e.counters.installCount.toLocaleString()})]}):Object(g.jsxs)("div",{className:R.a.counter,children:[Object(g.jsx)(T,{className:R.a.counterIcon,name:"duplicates"}),Object(g.jsx)("span",{children:e.counters.duplicateCount.toLocaleString()})]}),Object(g.jsxs)("div",{className:R.a.counter,children:[Object(g.jsx)(T,{className:R.a.counterIcon,name:"likes"}),Object(g.jsx)("span",{children:e.counters.likeCount.toLocaleString()})]}),Object(g.jsxs)("div",{className:R.a.counter,children:[Object(g.jsx)(T,{className:R.a.counterIcon,name:"comments"}),Object(g.jsx)("span",{children:e.counters.commentCount.toLocaleString()})]})]})]})]})};z.defaultProps={className:""};var D=z,E=a(74),Y=a(114),q=a.n(Y),J=function(e){return Object(g.jsxs)("section",{className:q.a.wrap,children:[""!==e.title?Object(g.jsx)("h2",{className:q.a.title,children:e.title}):null,e.children]})};J.defaultProps={className:"",title:""};var U=J,X=a(91),G=a.n(X),Q=function(e){return Object(g.jsxs)("div",{className:"".concat(G.a.wrap," ").concat(e.className),children:[Object(g.jsxs)("span",{className:G.a.label,children:[e.label,":"]}),Object(g.jsx)("span",{className:G.a.value,children:e.value})]})};Q.defaultProps={label:"label",value:"value",className:""};var $=Q,ee=a(31),te=a.n(ee),ae=function(e){var t,a,s,n;return Object(g.jsxs)("div",{className:"".concat(te.a.wrap," ").concat(e.className),children:[Object(g.jsxs)("div",{className:te.a.wrapLeft,children:[Object(g.jsxs)("span",{className:te.a.indexNum,children:[e.index,"."]}),Object(g.jsx)("img",{src:e.imgLink,alt:"preview",className:te.a.image}),Object(g.jsxs)("div",{className:te.a.leftText,children:[Object(g.jsx)("a",{className:te.a.label,href:null===(t=e.label)||void 0===t?void 0:t.link,target:"_blank",rel:"noreferrer",children:null===(a=e.label)||void 0===a?void 0:a.name}),Object(g.jsxs)("div",{className:te.a.author,children:[Object(g.jsx)("span",{children:"by "}),Object(g.jsxs)("a",{href:null===(s=e.caption)||void 0===s?void 0:s.link,target:"_blank",rel:"noreferrer",children:[null===(n=e.caption)||void 0===n?void 0:n.name," "]})]})]})]}),Object(g.jsxs)("div",{className:te.a.wrapRight,children:[Object(g.jsx)("span",{className:te.a.count,children:e.count}),Object(g.jsx)(T,{name:e.icon})]})]})};ae.defaultProps={author:{name:"author",link:"#"},label:{name:"label",link:"#"},index:0,className:""};var se=ae,ne=a(32),ce=a.n(ne),le=function(e){var t=s.useState(),a=Object(j.a)(t,2),n=a[0],c=a[1],l=s.useState({installs:5,views:5,likes:5,comments:5}),o=Object(j.a)(l,2),i=o[0],r=o[1],u=s.useState(),b=Object(j.a)(u,2),m=b[0],d=b[1];s.useEffect((function(){try{fetch("https://pavellaptev.github.io/figma-stat/plugins/common.json").then((function(e){return e.json()})).then((function(e){console.log(e),c(e)})),fetch("https://pavellaptev.github.io/figma-stat/hub_files/common.json").then((function(e){return e.json()})).then((function(e){console.log(e),d(e)}))}catch(e){console.error("Oops! Can't fetch plugins")}}),[]);var p=function(){return Object(g.jsx)("div",{className:ce.a.loading,children:Object(g.jsx)("div",{className:ce.a.loading__text,children:"Loading..."})})},h=function(){return n&&m?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(U,{title:"".concat(n.totalAmount.plugins.toLocaleString()," plugins"),children:Object(g.jsxs)("div",{className:ce.a.total,children:[Object(g.jsx)($,{label:"Installs",value:n.totalAmount.installs.toLocaleString()}),Object(g.jsx)($,{label:"Views",value:n.totalAmount.views.toLocaleString()}),Object(g.jsx)($,{label:"Likes",value:n.totalAmount.likes.toLocaleString()}),Object(g.jsx)($,{label:"Comments",value:n.totalAmount.comments.toLocaleString()})]})}),Object(g.jsxs)(U,{title:"Top by installs",children:[Object(g.jsx)("div",{className:ce.a.commonList,children:n.topInstalls.slice(0,i.installs).map((function(e,t){return Object(g.jsx)(se,{index:t+1,imgLink:e.icon,icon:"installs",label:{name:e.name,link:"plugin.link"},caption:{name:e.publisherName,link:"https://www.figma.com/@".concat(e.publisherName)},count:e.installs.toLocaleString()},t)}))}),Object(g.jsx)(k,{label:"Show more",mode:"secondary",className:ce.a.showMore,disabled:40===i.installs,onClick:function(){return r((function(e){return Object(E.a)(Object(E.a)({},e),{},{installs:i.installs+5})}))}})]}),Object(g.jsxs)(U,{title:"Top by Likes",children:[Object(g.jsx)("div",{className:ce.a.commonList,children:n.topLikes.slice(0,i.likes).map((function(e,t){return Object(g.jsx)(se,{index:t+1,imgLink:e.icon,icon:"likes",label:{name:e.name,link:"plugin.link"},caption:{name:e.publisherName,link:"https://www.figma.com/@".concat(e.publisherName)},count:e.likes.toLocaleString()},t)}))}),Object(g.jsx)(k,{label:"Show more",mode:"secondary",className:ce.a.showMore,disabled:40===i.likes,onClick:function(){return r((function(e){return Object(E.a)(Object(E.a)({},e),{},{likes:i.likes+5})}))}})]})]}):Object(g.jsx)(p,{})},_=function(){return n&&m?Object(g.jsx)(U,{title:"".concat(m.totalAmount.files.toLocaleString()," files"),children:Object(g.jsxs)("div",{className:ce.a.total,children:[Object(g.jsx)($,{label:"duplicates",value:m.totalAmount.duplicates.toLocaleString()}),Object(g.jsx)($,{label:"Views",value:m.totalAmount.views.toLocaleString()}),Object(g.jsx)($,{label:"Likes",value:m.totalAmount.likes.toLocaleString()}),Object(g.jsx)($,{label:"Comments",value:m.totalAmount.comments.toLocaleString()})]})}):Object(g.jsx)(p,{})};return Object(g.jsx)("section",{className:"".concat(ce.a.wrap," ").concat(e.className),children:"plugins"===e.category?Object(g.jsx)(h,{}):Object(g.jsx)(_,{})})};le.defaultProps={className:""};var oe=le,ie=a(75),re=a.n(ie),ue=function(e){return new URLSearchParams(window.location.search).get(e)||""},je=function(e,t){var a=new URLSearchParams(window.location.search);a.set(e,t),window.history.pushState(null,"","?".concat(a.toString()))},be=function(){var e=n.a.useState(""!==ue("id")?ue("id"):""),t=Object(j.a)(e,2),a=t[0],s=t[1],c=n.a.useState(""!==ue("category")?ue("category"):"plugins"),l=Object(j.a)(c,2),o=l[0],b=l[1],m=n.a.useState(null),d=Object(j.a)(m,2),p=d[0],h=d[1],_=n.a.useState(null),x=Object(j.a)(_,2),f=x[0],O=x[1],v=n.a.useState(null),y=Object(j.a)(v,2),N=y[0],C=y[1],k=n.a.useState(!1),L=Object(j.a)(k,2),S=L[0],H=L[1],I=n.a.useState(!1),M=Object(j.a)(I,2),A=M[0],P=M[1],Z=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={info:"https://pavellaptev.github.io/figma-stat/".concat(a,"/").concat(t,"/info.json"),counters:"https://pavellaptev.github.io/figma-stat/".concat(a,"/").concat(t,"/counters.json")},e.prev=1,e.next=4,fetch(s.counters).then((function(e){return e.json()})).then((function(e){P(!1);var t=function(){return e.map((function(t,s){var n;return e[s-1]?(n={date:t.date.split("-").reverse().join(".")},Object(r.a)(n,"plugins"===a?"installs":"duplicates","plugins"===a?t.installCount-e[s-1].installCount:t.duplicateCount-e[s-1].duplicateCount),Object(r.a)(n,"views",t.viewCount-e[s-1].viewCount),Object(r.a)(n,"likes",t.likeCount-e[s-1].likeCount),Object(r.a)(n,"comments",t.commentCount-e[s-1].commentCount),n):null})).splice(1)};h(e.slice(-1)[0]),O(t()),console.log(t())}));case 4:return e.next=6,fetch(s.info).then((function(e){return e.json()})).then((function(e){C(e)}));case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),P(!0),console.error("Oops! Seems like there is no file with this ID yet");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}();return n.a.useEffect((function(){je("id",a),je("category",o),""!==ue("id")&&""!==ue("category")&&(console.log("fetching data \u2026"),Z(a,o))}),[a,o,S]),Object(g.jsxs)("main",{className:"".concat(re.a.main," lightTheme"),children:[Object(g.jsx)("a",{className:re.a.ghButton,href:"https://github.com/PavelLaptev/figma-stat",rel:"noreferrer",target:"_blank",children:Object(g.jsx)(T,{name:"gh"})}),Object(g.jsxs)("section",{className:re.a.wrap,children:[Object(g.jsx)("h1",{children:"Figma Charts"}),Object(g.jsx)(V,{value:o,onClick:function(e){O(""),b(e)}}),Object(g.jsx)(F,{value:a,isError:A,placeholder:"plugins"===o?"Find by plugin ID":"Find by file ID",onSubmit:function(e){s(e),H(!S)},onChange:function(){}}),f&&N?Object(g.jsxs)("section",{className:re.a.statBlock,children:[Object(g.jsx)(D,{counters:p,info:N,category:o}),Object(g.jsx)(w,{data:f,category:o})]}):Object(g.jsx)(oe,{category:o})]})]})};l.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(be,{})}),document.getElementById("root"))},32:function(e,t,a){e.exports={wrap:"styles_wrap__yi_w6",total:"styles_total__3dKgy",commonList:"styles_commonList__3_Lun",showMore:"styles_showMore__2ApsH"}},42:function(e,t,a){e.exports={wrap:"styles_wrap__124Wx",form:"styles_form__2pyLC",input:"styles_input__2MZ3o",button:"styles_button__3uOo8",arrow:"styles_arrow__2-urN",errorMessage:"styles_errorMessage__C0V9x",errorInput:"styles_errorInput__3jBCm",errorAnimation:"styles_errorAnimation__1j2eq"}},60:function(e,t,a){e.exports={wrap:"styles_wrap__31Bip",button:"styles_button__2C1yK",back:"styles_back__1MPGf",inactive:"styles_inactive__Cc7Nk"}},73:function(e,t,a){e.exports={wrap:"styles_wrap__JVLAe",label:"styles_label__3C0AY",sublabel:"styles_sublabel__1jx_7",primary:"styles_primary__3HQ5-",secondary:"styles_secondary__2pJ5d",ghost:"styles_ghost__31QWH"}},75:function(e,t,a){e.exports={main:"app_main__1NOZK",wrap:"app_wrap__2GHul",ghButton:"app_ghButton__1qao1",statBlock:"app_statBlock__2z9Fj"}},91:function(e,t,a){e.exports={wrap:"styles_wrap__1bmiT",label:"styles_label__1-YNe",value:"styles_value__38wXd"}}},[[319,1,2]]]);
//# sourceMappingURL=main.a59ab40c.chunk.js.map